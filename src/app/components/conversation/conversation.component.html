<section class="conversation">
  <div class="conversation-title">
    <div class="username">{{ conversation?.friend.username }}</div>
    <div class="status">Online now</div>
  </div>
  <div #chatMessages class="chat-messages">
    <div 
      class="message" 
      [ngClass]="{'me' : isMessageMine(message), 'them' : !isMessageMine(message)}" 
      *ngFor="let message of conversation?.messages">
        <app-letter-avatar username="{{message.username}}"></app-letter-avatar>
        <div 
          [ngClass]="{'me' : isMessageMine(message), 'them' : !isMessageMine(message)}" 
          class="text">{{message.text}}
        </div>
    </div>
    <app-message></app-message>
    <div *ngIf="conversation?.messages.length === 0">
      <div class="convo-starter-message">This is the start of your conversation with {{conversation.friend.username}}.</div>
    </div>
  </div>
  <div class="chat">
    <input #chatbar (keyup.enter)="sendMessage()" placeholder="Type a message" type="text"/>
    <button (click)="sendMessage()" class="send-button"><img src="../../../assets/images/send_px.svg"/></button>
  </div>
</section>
